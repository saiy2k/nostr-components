async function f(r,i=5e3){var a;if(!/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(r))throw new Error("Invalid NIP-05 format");const[n,t]=r.split("@");if(!n||!t)throw new Error("Invalid NIP-05: missing name or domain");const c=`https://${t}/.well-known/nostr.json?name=${encodeURIComponent(n)}`,e=new AbortController,l=setTimeout(()=>e.abort(),i);try{const o=await fetch(c,{headers:{accept:"application/json"},signal:e.signal});if(!o.ok)throw new Error("Unable to resolve NIP-05");const s=(a=(await o.json()).names)==null?void 0:a[n];if(!s)throw new Error("NIP-05 not found");return s}catch(o){throw o instanceof Error&&o.name==="AbortError"?new Error("NIP-05 resolution timed out"):o}finally{clearTimeout(l)}}export{f as r};
//# sourceMappingURL=nip05-utils-BNBHUmkr.js.map
