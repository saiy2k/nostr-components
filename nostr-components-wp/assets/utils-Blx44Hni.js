import{D as c,n as h,N as u,M as m}from"./nostr-service-w4c-zprD.js";function v(t="",e=3){const s=t.length;if(!t.startsWith("npub1"))return"Invalid nPub: expected npub1...";if(!R(t))return"Invalid nPub";let r="npub1";for(let n=5;n<e+5;n++)r+=t[n];r+="...";let o="";for(let n=s-1;n>=s-e;n--)o=t[n]+o;return r+=o,r}async function w(t,e){const s=await t.fetchEvents({kinds:[u.Repost],"#e":[e||""]}),r=a=>a.tags.filter(i=>i[0]==="p").length===1,o=a=>a.tags.filter(i=>i[0]==="e").length===1,n=Array.from(s).filter(r).length,l=await t.fetchEvents({kinds:[u.Reaction],"#e":[e||""]}),f=0,p=await t.fetchEvents({kinds:[u.Text],"#e":[e||""]}),d=Array.from(p).filter(o).length;return{likes:l.size,reposts:n,zaps:f/m,replies:d}}function C(t){if(t){const e=t.split(",").map(s=>s.trim()).filter(Boolean).filter(y);return e.length?Array.from(new Set(e)):[...c]}return[...c]}function L(t){const e=t==null?void 0:t.trim().toLowerCase();return e==="light"||e==="dark"?e:"light"}function b(t){return t===null?!1:t===""||t.toLowerCase()==="true"}function x(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}function A(t){try{const e=new URL(t);return["http:","https:"].includes(e.protocol)}catch{return!1}}function y(t){try{const e=new URL(t);return e.protocol==="wss:"||e.protocol==="ws:"}catch{return!1}}function E(t){return/^[0-9a-fA-F]+$/.test(t)&&t.length===64}function R(t){try{const{type:e}=h.decode(t);return e==="npub"}catch{return!1}}function z(t){return/^[a-zA-Z0-9_\-\.]+@[a-zA-Z0-9_\-\.]+\.[a-zA-Z]{2,}$/.test(t)}function _(t){return navigator.clipboard.writeText(t)}export{C as a,L as b,_ as c,R as d,x as e,A as f,w as g,E as i,v as m,b as p,z as v};
//# sourceMappingURL=utils-Blx44Hni.js.map
